{% extends 'base.html' %}
{% block content %}
  <div class="mt-4">
    <h2>Dashboard</h2>
    {% if is_admin %}
      <div class="alert alert-info mt-3">Welcome, admin! Use the <a href="/admin/">admin panel</a> to manage the system.</div>
    {% elif is_driver %}
      <h4 class="mt-4">Your Assigned Routes</h4>
      <table class="table table-bordered table-striped mt-2">
        <thead><tr><th>Route</th><th>Timings</th></tr></thead>
        <tbody>
        {% for a in assignments %}
          <tr><td>{{ a.bus_route.route_number }}</td><td>{{ a.bus_route.timings }}</td></tr>
        {% empty %}
          <tr><td colspan="2">No assignments</td></tr>
        {% endfor %}
        </tbody>
      </table>
    {% else %}
      <h4 class="mt-4">Your Bus Assignments</h4>
      <table class="table table-bordered table-striped mt-2">
        <thead><tr><th>Route</th><th>Driver</th><th>Timings</th></tr></thead>
        <tbody>
        {% for a in assignments %}
          <tr><td>{{ a.bus_route.route_number }}</td><td>{{ a.driver.full_name }}</td><td>{{ a.bus_route.timings }}</td></tr>
        {% empty %}
          <tr><td colspan="3">No assignments</td></tr>
        {% endfor %}
        </tbody>
      </table>
    {% endif %}
  </div>
{% endblock %}
